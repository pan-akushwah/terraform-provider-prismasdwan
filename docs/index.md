---
page_title: "Provider: prismasdwan"
description: |-
  The Terraform provider for Palo Alto Networks Prisma SD-WAN.
---

# Provider `prismasdwan`

---

The `prismasdwan` provider provides resources and data sources to manage and query Prisma SD-WAN related config from
Strata Cloud Manager (SCM).

This provider covers the following aspects of Strata Cloud Manager:

* `Prisma SD-WAN`

## Latest Builds & Examples

---

Follow us on https://github.com/PaloAltoNetworks/terraform-provider-prismasdwan for latest examples/updates.

## Creating Client Credentials via SCM

---

Login to SCM as `superuser` and follow these steps on UI

1. Navigate to _System Settings_ -> _Identity and Access Management_ from the left navigation panel
2. Under the _Access Management_ tab click on the button `Add Identity`
3. On the dialog shown for _Add Identity_,
    1. Choose _Identity Type => Service Account_
    2. Give a suitable name for _Service Account Name_ (example, `terraform_client`)
    3. Give optional _Contact_ and _Description_
    4. Click on button `Next`
4. For the given service account name, client secrets are created. Make a note of _Client ID_ and _Client Secret_
    1. Optionally, you can choose to download the `CSV` file containing the ID and Secret
    2. Click `Next` to assign roles to this account
5. Choose `Prisma SD-WAN` under _Apps & Services_ and `Superuser` as the assigned role for this account
6. Click on `Submit` button to create this role
7. Use above `Client ID` and `Client Secret` to configure the Terraform Provider as indicated in next sections

## Example Usage

---

> Ensure you have followed steps above to create Client Credentials.

Set up your provider in a `.tf` file as below:

```terraform
#
# save below snippet in a file say `configuration.tf`

terraform {
  required_providers {
    prismasdwan = {
      source  = "paloaltonetworks/prismasdwan"
      version = "6.6.1-beta.2"
    }
  }
}

#
# configure the provider as below

provider "prismasdwan" {
  # Client ID is created in steps above 
  client_id     = "acmeuser@12345.iam.panserviceaccount.com"
  # Client Secret is created in steps above 
  client_secret = "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"
  # Set the TSG ID Manually
  scope         = "tsg_id:12345"
  
  #
  # Optional: Host name to connect to
  host          = "api.sase.paloaltonetworks.com"
  # Optional: Token Creation Url
  auth_url      = "https://auth.apps.paloaltonetworks.com/am/oauth2/access_token"
  # Optional: API Timeout in seconds
  timeout       = 60
}
```

Run below command to get the provider downloaded to your workspace.

```shell
terraform init
```

To test if the config is correct or not, lets write our first resource that reads an existing site from Prisma SDWAN.

```terraform
#
# save this content in a file say `sites.tf`

resource "prismasdwan_resource_locator" "test_site" {
  resource_type           = "prismasdwan_site"
  resource_property       = "name"
  resource_property_value = "existing site name"
}
```

Run below command to read the changes via terraform.

```shell
terraform apply
```

More examples, can be found at https://github.com/PaloAltoNetworks/terraform-provider-prismasdwan/tree/main/examples

A more comprehensive set of automatically generated examples are available under the directory
`automated_examples`.

> Please review the examples carefully before using them in production systems

## Provider Parameter Priority

---

There are multiple ways to specify the provider's parameters. If overlapping values are configured for the provider,
then this is the resolution order:

1. Statically configured in the `provider` block
2. Environment variable (where applicable)
3. Taken from the JSON config file

<!-- schema generated by tfplugindocs -->

## Schema

---

### Optional

- `auth_file` (String) The file path to the JSON file with auth creds for SCM.
- `auth_url` (String) The URL to send auth credentials to which will return a JWT.
  Default: `https://auth.apps.paloaltonetworks.com/auth/v1/oauth2/access_token`. Environment variable: `SCM_AUTH_URL`.
  JSON config file variable: `auth_url`.
- `client_id` (String) The client ID for the connection. Environment variable: `SCM_CLIENT_ID`. JSON config file
  variable: `client_id`.
- `client_secret` (String, Sensitive) The client secret for the connection. Environment variable: `SCM_CLIENT_SECRET`.
  JSON config file variable: `client_secret`.
- `headers` (Map of String) Custom HTTP headers to be sent with all API commands. Environment variable: `SCM_HEADERS`.
  JSON config file variable: `headers`.
- `host` (String) The hostname of Strata Cloud Manager API. Default: `api.sase.paloaltonetworks.com`. Environment
  variable: `SCM_HOST`. JSON config file variable: `host`.
- `logging` (String) The logging level of the provider and the underlying communication. Default: `quiet`. Environment
  variable: `SCM_LOGGING`. JSON config file variable: `logging`.
- `port` (Number) The port number to use for API commands, if non-standard for the given protocol. Environment
  variable: `SCM_PORT`. JSON config file variable: `port`.
- `protocol` (String) The protocol to use for SCM. This should be 'http' or 'https'. Default: `https`. Environment
  variable: `SCM_PROTOCOL`. JSON config file variable: `protocol`.
- `scope` (String) The client scope. Environment variable: `SCM_SCOPE`. JSON config file variable: `scope`.

## Debugging

To view the API invocations and responses, the `TF_LOG` flag can be set:

```bash
TF_LOG=debug terraform apply
```

## Support

This template/solution are released under an as-is, best effort, support policy. These scripts should be seen as
community supported and Palo Alto Networks will contribute our expertise as and when possible. We do not provide
technical support or help in using or troubleshooting the components of the project through our normal support options
such as Palo Alto Networks support teams, or ASC (Authorized Support Centers) partners and backline support options.
The underlying product used (the VM-Series firewall) by the scripts or templates are still supported, but the support
is only for the product functionality and not for help in deploying or using the template or script itself. Unless
explicitly tagged, all projects or work posted in our GitHub repository (at https://github.com/PaloAltoNetworks) or
sites other than our official Downloads page on https://support.paloaltonetworks.com are provided under the best effort
policy.
